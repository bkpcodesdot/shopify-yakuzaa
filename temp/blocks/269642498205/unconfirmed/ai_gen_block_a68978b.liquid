{% doc %}
  @prompt
    Create a Shopify section called "Educational Info Banner" with the following features:
    
    1. **Heading Block**
       - Option to edit main heading text.
       - Option to bold certain words.
       - Option to change heading color.
       - Option to change font size and alignment.
    
    2. **Subheading / Subtitle**
       - Editable text field.
       - Option to set text color and font size.
    
    3. **Main Image**
       - Image picker for uploading the first illustration.
       - Option to adjust image width (full, half, auto).
       - Mobile-friendly responsive option.
    
    4. **Paragraph / Description Text**
       - Rich text field for adding content.
       - Allow bold, italic, underline inside the text.
       - Option to set text color and alignment.
    
    5. **Second Image (Optional)**
       - Image picker for uploading the second illustration.
       - Option to hide/show this block.
       - Adjustable size and alignment.
    
    6. **Bottom Description Text**
       - Rich text field.
       - Same text customization options as above.
    
    7. **CTA Button**
       - Editable button text.
       - Button link (URL picker).
       - Option to customize button background color, text color, border radius.
       - Option for button alignment (center, left, right).
    
    8. **Section Background**
       - Option to set background color or background image.
       - Padding controls (top/bottom/left/right).
       - Option for full-width or contained layout.
    
    9. **Mobile Controls**
       - Separate image for mobile.
       - Text alignment override for mobile.
       - Mobile padding adjustments.
    
    Default content example:
    - Heading: "Why Most People Don’t Know They’re Infected"
    - Subheading: "How gut invaders hide, survive, and manipulate your body, backed by science."
    - First Image: Gut illustration
    - Paragraph: "One of the biggest reasons parasites, fungi, and harmful microbes go untreated is because they’re incredibly good at hiding..."
    - Second Image: "Parasites / Candida / Biofilm illustration"
    - Button Text: "TRY RESILIA RISK-FREE"
    - Button Color: Orange
    - Button Text Color: White

{% enddoc %}
{% assign ai_gen_id = section.id | replace: '_', '' | downcase %}

{% style %}
  .ai-educational-banner-{{ ai_gen_id }} {
    background-color: {{ section.settings.background_color }};
    {% if section.settings.background_image %}
      background-image: url('{{ section.settings.background_image | image_url: width: 2000 }}');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    {% endif %}
    padding: {{ section.settings.padding_top }}px {{ section.settings.padding_horizontal }}px {{ section.settings.padding_bottom }}px {{ section.settings.padding_horizontal }}px;
    {% if section.settings.layout_width == 'contained' %}
      max-width: 1200px;
      margin: 0 auto;
    {% endif %}
  }

  .ai-educational-banner__container-{{ ai_gen_id }} {
    display: flex;
    flex-direction: column;
    gap: {{ section.settings.content_spacing }}px;
    align-items: center;
    text-align: center;
  }

  .ai-educational-banner__heading-{{ ai_gen_id }} {
    color: {{ section.settings.heading_color }};
    font-size: {{ section.settings.heading_size }}px;
    text-align: {{ section.settings.heading_alignment }};
    margin: 0;
    line-height: 1.2;
  }

  .ai-educational-banner__subheading-{{ ai_gen_id }} {
    color: {{ section.settings.subheading_color }};
    font-size: {{ section.settings.subheading_size }}px;
    margin: 0;
    line-height: 1.4;
  }

  .ai-educational-banner__main-image-{{ ai_gen_id }} {
    {% case section.settings.main_image_width %}
      {% when 'full' %}
        width: 100%;
      {% when 'half' %}
        width: 50%;
      {% when 'auto' %}
        width: auto;
        max-width: 100%;
    {% endcase %}
    height: auto;
    border-radius: 8px;
  }

  .ai-educational-banner__main-image-placeholder-{{ ai_gen_id }} {
    {% case section.settings.main_image_width %}
      {% when 'full' %}
        width: 100%;
      {% when 'half' %}
        width: 50%;
      {% when 'auto' %}
        width: 400px;
        max-width: 100%;
    {% endcase %}
    height: 300px;
    background-color: #f4f4f4;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
  }

  .ai-educational-banner__main-image-placeholder-{{ ai_gen_id }} svg {
    width: 100%;
    height: 100%;
    max-width: 200px;
    max-height: 200px;
  }

  .ai-educational-banner__empty-state-{{ ai_gen_id }} {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    padding: 8px 16px;
    background-color: rgba(255, 255, 255, 0.9);
    border-radius: 4px;
    font-size: 12px;
    color: #666;
    text-align: center;
    pointer-events: none;
  }

  .ai-educational-banner__description-{{ ai_gen_id }} {
    color: {{ section.settings.description_color }};
    text-align: {{ section.settings.description_alignment }};
    max-width: 800px;
    line-height: 1.6;
  }

  .ai-educational-banner__second-image-{{ ai_gen_id }} {
    {% case section.settings.second_image_size %}
      {% when 'small' %}
        width: 200px;
      {% when 'medium' %}
        width: 400px;
      {% when 'large' %}
        width: 600px;
    {% endcase %}
    max-width: 100%;
    height: auto;
    border-radius: 8px;
    {% case section.settings.second_image_alignment %}
      {% when 'left' %}
        align-self: flex-start;
      {% when 'center' %}
        align-self: center;
      {% when 'right' %}
        align-self: flex-end;
    {% endcase %}
  }

  .ai-educational-banner__second-image-placeholder-{{ ai_gen_id }} {
    {% case section.settings.second_image_size %}
      {% when 'small' %}
        width: 200px;
      {% when 'medium' %}
        width: 400px;
      {% when 'large' %}
        width: 600px;
    {% endcase %}
    max-width: 100%;
    height: 250px;
    background-color: #f4f4f4;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    {% case section.settings.second_image_alignment %}
      {% when 'left' %}
        align-self: flex-start;
      {% when 'center' %}
        align-self: center;
      {% when 'right' %}
        align-self: flex-end;
    {% endcase %}
  }

  .ai-educational-banner__second-image-placeholder-{{ ai_gen_id }} svg {
    width: 100%;
    height: 100%;
    max-width: 150px;
    max-height: 150px;
  }

  .ai-educational-banner__bottom-description-{{ ai_gen_id }} {
    color: {{ section.settings.bottom_description_color }};
    text-align: {{ section.settings.bottom_description_alignment }};
    max-width: 800px;
    line-height: 1.6;
  }

  .ai-educational-banner__cta-{{ ai_gen_id }} {
    {% case section.settings.button_alignment %}
      {% when 'left' %}
        align-self: flex-start;
      {% when 'center' %}
        align-self: center;
      {% when 'right' %}
        align-self: flex-end;
    {% endcase %}
  }

  .ai-educational-banner__button-{{ ai_gen_id }} {
    display: inline-block;
    padding: 16px 32px;
    background-color: {{ section.settings.button_background_color }};
    color: {{ section.settings.button_text_color }};
    text-decoration: none;
    border-radius: {{ section.settings.button_border_radius }}px;
    font-weight: 600;
    font-size: 16px;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
  }

  .ai-educational-banner__button-{{ ai_gen_id }}:hover {
    background-color: {{ section.settings.button_hover_color }};
    color: {{ section.settings.button_hover_text_color }};
    transform: translateY(-2px);
  }

  @media screen and (max-width: 749px) {
    .ai-educational-banner-{{ ai_gen_id }} {
      padding: {{ section.settings.mobile_padding_top }}px {{ section.settings.mobile_padding_horizontal }}px {{ section.settings.mobile_padding_bottom }}px {{ section.settings.mobile_padding_horizontal }}px;
    }

    .ai-educational-banner__container-{{ ai_gen_id }} {
      {% if section.settings.mobile_text_alignment != 'inherit' %}
        text-align: {{ section.settings.mobile_text_alignment }};
      {% endif %}
    }

    .ai-educational-banner__main-image-{{ ai_gen_id }},
    .ai-educational-banner__main-image-placeholder-{{ ai_gen_id }} {
      width: 100%;
    }

    .ai-educational-banner__second-image-{{ ai_gen_id }},
    .ai-educational-banner__second-image-placeholder-{{ ai_gen_id }} {
      width: 100%;
      max-width: 400px;
      align-self: center;
    }

    .ai-educational-banner__heading-{{ ai_gen_id }} {
      font-size: {{ section.settings.heading_size | times: 0.8 }}px;
    }

    .ai-educational-banner__subheading-{{ ai_gen_id }} {
      font-size: {{ section.settings.subheading_size | times: 0.9 }}px;
    }

    .ai-educational-banner__button-{{ ai_gen_id }} {
      padding: 14px 28px;
      font-size: 14px;
    }

    .ai-educational-banner__cta-{{ ai_gen_id }} {
      align-self: center;
    }
  }
{% endstyle %}

<section class="ai-educational-banner-{{ ai_gen_id }}" {{ section.shopify_attributes }}>
  <div class="ai-educational-banner__container-{{ ai_gen_id }}">
    {% if section.settings.heading != blank %}
      <h2 class="ai-educational-banner__heading-{{ ai_gen_id }}">
        {{ section.settings.heading }}
      </h2>
    {% endif %}

    {% if section.settings.subheading != blank %}
      <div class="ai-educational-banner__subheading-{{ ai_gen_id }}">
        {{ section.settings.subheading }}
      </div>
    {% endif %}

    {% if section.settings.main_image %}
      {% assign main_image = section.settings.main_image %}
      {% if section.settings.mobile_image %}
        <picture>
          <source media="(max-width: 749px)" srcset="{{ section.settings.mobile_image | image_url: width: 800 }}">
          <img
            src="{{ main_image | image_url: width: 1200 }}"
            alt="{{ main_image.alt | escape }}"
            class="ai-educational-banner__main-image-{{ ai_gen_id }}"
            loading="lazy"
            width="{{ main_image.width }}"
            height="{{ main_image.height }}"
          >
        </picture>
      {% else %}
        <img
          src="{{ main_image | image_url: width: 1200 }}"
          alt="{{ main_image.alt | escape }}"
          class="ai-educational-banner__main-image-{{ ai_gen_id }}"
          loading="lazy"
          width="{{ main_image.width }}"
          height="{{ main_image.height }}"
        >
      {% endif %}
    {% else %}
      <div class="ai-educational-banner__main-image-placeholder-{{ ai_gen_id }}">
        {{ 'image' | placeholder_svg_tag }}
        <div class="ai-educational-banner__empty-state-{{ ai_gen_id }}">
          Add a main image
        </div>
      </div>
    {% endif %}

    {% if section.settings.description != blank %}
      <div class="ai-educational-banner__description-{{ ai_gen_id }}">
        {{ section.settings.description }}
      </div>
    {% endif %}

    {% if section.settings.show_second_image %}
      {% if section.settings.second_image %}
        <img
          src="{{ section.settings.second_image | image_url: width: 800 }}"
          alt="{{ section.settings.second_image.alt | escape }}"
          class="ai-educational-banner__second-image-{{ ai_gen_id }}"
          loading="lazy"
          width="{{ section.settings.second_image.width }}"
          height="{{ section.settings.second_image.height }}"
        >
      {% else %}
        <div class="ai-educational-banner__second-image-placeholder-{{ ai_gen_id }}">
          {{ 'image' | placeholder_svg_tag }}
          <div class="ai-educational-banner__empty-state-{{ ai_gen_id }}">
            Add a second image
          </div>
        </div>
      {% endif %}
    {% endif %}

    {% if section.settings.bottom_description != blank %}
      <div class="ai-educational-banner__bottom-description-{{ ai_gen_id }}">
        {{ section.settings.bottom_description }}
      </div>
    {% endif %}

    {% if section.settings.button_text != blank %}
      <div class="ai-educational-banner__cta-{{ ai_gen_id }}">
        <a
          href="{{ section.settings.button_link | default: '#' }}"
          class="ai-educational-banner__button-{{ ai_gen_id }}"
        >
          {{ section.settings.button_text }}
        </a>
      </div>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "Educational info banner",
  "settings": [
    {
      "type": "header",
      "content": "Heading"
    },
    {
      "type": "richtext",
      "id": "heading",
      "label": "Heading text",
      "default": "<p><strong>Why Most People Don't Know They're Infected</strong></p>"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "heading_size",
      "min": 16,
      "max": 72,
      "step": 2,
      "unit": "px",
      "label": "Heading size",
      "default": 36
    },
    {
      "type": "select",
      "id": "heading_alignment",
      "label": "Heading alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center"
    },
    {
      "type": "header",
      "content": "Subheading"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading text",
      "default": "How gut invaders hide, survive, and manipulate your body, backed by science."
    },
    {
      "type": "color",
      "id": "subheading_color",
      "label": "Subheading color",
      "default": "#666666"
    },
    {
      "type": "range",
      "id": "subheading_size",
      "min": 12,
      "max": 32,
      "step": 1,
      "unit": "px",
      "label": "Subheading size",
      "default": 18
    },
    {
      "type": "header",
      "content": "Main image"
    },
    {
      "type": "image_picker",
      "id": "main_image",
      "label": "Main image"
    },
    {
      "type": "select",
      "id": "main_image_width",
      "label": "Image width",
      "options": [
        {
          "value": "full",
          "label": "Full width"
        },
        {
          "value": "half",
          "label": "Half width"
        },
        {
          "value": "auto",
          "label": "Auto"
        }
      ],
      "default": "auto"
    },
    {
      "type": "header",
      "content": "Description"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description text",
      "default": "<p>One of the biggest reasons parasites, fungi, and harmful microbes go untreated is because they're incredibly good at hiding. These organisms have evolved sophisticated survival mechanisms that allow them to evade detection by both your immune system and standard medical tests.</p>"
    },
    {
      "type": "color",
      "id": "description_color",
      "label": "Description color",
      "default": "#333333"
    },
    {
      "type": "select",
      "id": "description_alignment",
      "label": "Description alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center"
    },
    {
      "type": "header",
      "content": "Second image"
    },
    {
      "type": "checkbox",
      "id": "show_second_image",
      "label": "Show second image",
      "default": true
    },
    {
      "type": "image_picker",
      "id": "second_image",
      "label": "Second image"
    },
    {
      "type": "select",
      "id": "second_image_size",
      "label": "Second image size",
      "options": [
        {
          "value": "small",
          "label": "Small"
        },
        {
          "value": "medium",
          "label": "Medium"
        },
        {
          "value": "large",
          "label": "Large"
        }
      ],
      "default": "medium"
    },
    {
      "type": "select",
      "id": "second_image_alignment",
      "label": "Second image alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center"
    },
    {
      "type": "header",
      "content": "Bottom description"
    },
    {
      "type": "richtext",
      "id": "bottom_description",
      "label": "Bottom description text",
      "default": "<p>This is why traditional approaches often fail to identify the root cause of chronic symptoms. Our comprehensive testing and targeted protocols are designed to uncover these hidden threats and restore your body's natural balance.</p>"
    },
    {
      "type": "color",
      "id": "bottom_description_color",
      "label": "Bottom description color",
      "default": "#333333"
    },
    {
      "type": "select",
      "id": "bottom_description_alignment",
      "label": "Bottom description alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center"
    },
    {
      "type": "header",
      "content": "Call to action button"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button text",
      "default": "TRY RESILIA RISK-FREE"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button link"
    },
    {
      "type": "color",
      "id": "button_background_color",
      "label": "Button background color",
      "default": "#FF6B35"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button text color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "button_hover_color",
      "label": "Button hover background color",
      "default": "#E55A2B"
    },
    {
      "type": "color",
      "id": "button_hover_text_color",
      "label": "Button hover text color",
      "default": "#FFFFFF"
    },
    {
      "type": "range",
      "id": "button_border_radius",
      "min": 0,
      "max": 50,
      "step": 2,
      "unit": "px",
      "label": "Button border radius",
      "default": 8
    },
    {
      "type": "select",
      "id": "button_alignment",
      "label": "Button alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center"
    },
    {
      "type": "header",
      "content": "Section background"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#FFFFFF"
    },
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "Background image"
    },
    {
      "type": "select",
      "id": "layout_width",
      "label": "Layout width",
      "options": [
        {
          "value": "full",
          "label": "Full width"
        },
        {
          "value": "contained",
          "label": "Contained"
        }
      ],
      "default": "contained"
    },
    {
      "type": "header",
      "content": "Desktop spacing"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Top padding",
      "default": 60
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Bottom padding",
      "default": 60
    },
    {
      "type": "range",
      "id": "padding_horizontal",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Horizontal padding",
      "default": 20
    },
    {
      "type": "range",
      "id": "content_spacing",
      "min": 16,
      "max": 80,
      "step": 4,
      "unit": "px",
      "label": "Content spacing",
      "default": 32
    },
    {
      "type": "header",
      "content": "Mobile settings"
    },
    {
      "type": "image_picker",
      "id": "mobile_image",
      "label": "Mobile image"
    },
    {
      "type": "select",
      "id": "mobile_text_alignment",
      "label": "Mobile text alignment",
      "options": [
        {
          "value": "inherit",
          "label": "Same as desktop"
        },
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "inherit"
    },
    {
      "type": "range",
      "id": "mobile_padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Mobile top padding",
      "default": 40
    },
    {
      "type": "range",
      "id": "mobile_padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Mobile bottom padding",
      "default": 40
    },
    {
      "type": "range",
      "id": "mobile_padding_horizontal",
      "min": 0,
      "max": 50,
      "step": 2,
      "unit": "px",
      "label": "Mobile horizontal padding",
      "default": 16
    }
  ],
  "presets": [
    {
      "name": "Educational info banner"
    }
  ]
}
{% endschema %}