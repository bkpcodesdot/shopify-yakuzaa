

<div class="ai-before-after-article-{{ ai_gen_id }}">
  <div class="ai-before-after-article__container-{{ ai_gen_id }}">
    
    {% for block in section.blocks %}

      {% if block.type == 'heading' %}
       <h1 class="ai-before-after-article__heading-{{ ai_gen_id }}" style="font-size: {{ block.settings.heading_font_size }};">
  {{ block.settings.heading_text }}
</h1>
      {% endif %}

      {% if block.type == 'description' %}
        <div class="ai-before-after-article__description-{{ ai_gen_id }}">{{ block.settings.description_text }}</div>
      {% endif %}

      {% if block.type == 'author' %}
        <div class="ai-before-after-article__author-{{ ai_gen_id }}">
          <div class="ai-before-after-article__author-image-{{ ai_gen_id }}">
            {% if block.settings.author_image %}
              <img src="{{ block.settings.author_image | image_url: width: 100 }}" alt="{{ block.settings.author_name | escape }}" loading="lazy">
            {% else %}
              {{ 'image' | placeholder_svg_tag }}
            {% endif %}
          </div>
          <div class="author-name">
            {% if block.settings.author_name != blank %}
              <div class="ai-before-after-article__author-name-{{ ai_gen_id }}">{{ block.settings.author_name }}|</div>
            {% endif %}
            {% if block.settings.publish_date != blank %}
              <div class="ai-before-after-article__publish-date-{{ ai_gen_id }}">{{ block.settings.publish_date }}</div>
            {% endif %}
          </div>
        </div>
      {% endif %}

      {% if block.type == 'article_image' %}
        <div class="ai-before-after-article__image-container-{{ ai_gen_id }}">
          {% if block.settings.image %}
            <img src="{{ block.settings.image | image_url: width: 800 }}" alt="Article Image" loading="lazy">
          {% else %}
            {{ 'image' | placeholder_svg_tag }}
          {% endif %}
        </div>
      {% endif %}

      {% if block.type == 'reading_time' and block.settings.show_reading_time %}
        <div class="ai-before-after-article__reading-time-{{ ai_gen_id }}">
          <svg xmlns="http://www.w3.org/2000/svg" width="11" height="10" fill="none" viewBox="0 0 11 10">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M0.25 0.56c-.22.13-.31.38-.21.56.05.09 5.15 4.69 5.25 4.74.05.02.15.04.21.04.07 0 .16-.02.21-.04.1-.05 5.21-4.65 5.26-4.74.1-.18 0-.43-.22-.56-.12-.07-.34-.08-.45-.03L5.5 4.82 0.7 0.53c-.12-.05-.33-.04-.45.03Zm0 3.6c-.22.13-.31.38-.21.56.05.09 5.15 4.68 5.25 4.73.05.02.15.04.21.04.07 0 .16-.02.21-.04.1-.05 5.21-4.64 5.26-4.73.1-.18 0-.43-.22-.56-.12-.07-.34-.08-.45-.03L5.5 8.42 0.7 4.13c-.12-.05-.33-.04-.45.03Z" fill="{{ block.settings.reading_time_text_color }}"/>
          </svg>
          <span>{{ block.settings.reading_time_text }}</span>
        </div>
      {% endif %}

    {% endfor %}

  </div>
</div>

{% schema %}
{
  "name": "Before Article Section",
  "settings": [
    { "type": "color", "id": "background_color", "label": "Background color", "default": "#ffffff" },
    { "type": "color", "id": "text_color", "label": "Text color", "default": "#000000" },
    { "type": "range", "id": "padding_top", "label": "Top padding", "min": 0, "max": 100, "step": 4, "unit": "px", "default": 40 },
    { "type": "range", "id": "padding_bottom", "label": "Bottom padding", "min": 0, "max": 100, "step": 4, "unit": "px", "default": 40 },
    { "type": "select", "id": "text_alignment", "label": "Text alignment", "options": [ { "value": "left", "label": "Left" }, { "value": "center", "label": "Center" } ], "default": "center" }
  ],
  "blocks": [
  {
  "type": "heading",
  "name": "Heading",
  "settings": [
    { 
      "type": "richtext", 
      "id": "heading_text", 
      "label": "Heading Text" 
    },
    {
      "type": "range",
      "id": "heading_font_size",
      "label": "Font Size (px)",
      "min": 12,
      "max": 72,
      "step": 1,
      "unit": "px",
      "default": 34
    }
  ]
},
    { "type": "description", "name": "Description", "settings": [ { "type": "textarea", "id": "description_text", "label": "Description Text" } ] },
    { "type": "author", "name": "Author", "settings": [ 
        { "type": "image_picker", "id": "author_image", "label": "Author Image" },
        { "type": "text", "id": "author_name", "label": "Author Name" },
        { "type": "text", "id": "publish_date", "label": "Publish Date" }
      ]
    },
    { "type": "article_image", "name": "Article Image", "settings": [ { "type": "image_picker", "id": "image", "label": "Article Image" } ] },
    { "type": "reading_time", "name": "Reading Time", "settings": [ 
        { "type": "checkbox", "id": "show_reading_time", "label": "Show Reading Time", "default": true },
        { "type": "text", "id": "reading_time_text", "label": "Reading Time Text", "default": "Estimated 5-7 Minute Read" },
        { "type": "color", "id": "reading_time_bg_color", "label": "Background Color", "default": "#f0f0f0" },
        { "type": "color", "id": "reading_time_text_color", "label": "Text Color", "default": "#085e03" },
        { "type": "color", "id": "reading_time_border_color", "label": "Border Color", "default": "#085e03" },
        { "type": "range", "id": "reading_time_border_width", "label": "Border Width", "min": 0, "max": 4, "step": 1, "unit": "px", "default": 1 }
      ]
    }
  ],
  "presets": [ 
    { "name": "Before Article Section" } 
  ]
}
{% endschema %}

