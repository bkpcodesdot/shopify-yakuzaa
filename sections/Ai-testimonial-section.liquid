{% comment %}
  Customer Testimonials Section
{% endcomment %}

<div class="ai-testimonials-{{ section.id }}">
  <div class="ai-testimonials-header-{{ section.id }}">
    {% if section.settings.title != blank %}
      <h2 class="ai-testimonials-title-{{ section.id }}">
        {{ section.settings.title }}
      </h2>
    {% endif %}

    {% if section.settings.description != blank %}
      <div class="ai-testimonials-description-{{ section.id }}">
        {{ section.settings.description }}
      </div>
    {% endif %}
  </div>

  <div class="ai-testimonials-grid-{{ section.id }}">
    {% for block in section.blocks %}
      <div class="ai-testimonial-card-{{ section.id }}">
        {% if block.settings.quote != blank %}
          <div class="ai-testimonial-quote-{{ section.id }}">
            {{ block.settings.quote }}
          </div>
        {% endif %}

        <div class="ai-testimonial-footer-{{ section.id }}">
          <div class="ai-testimonial-icon-{{ section.id }}">
            {% if block.settings.icon %}
              <img src="{{ block.settings.icon | image_url: width: 50 }}" alt="Customer verification icon" loading="lazy">
            {% else %}
              <div class="ai-testimonial-icon-placeholder-{{ section.id }}">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                  <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
                </svg>
              </div>
            {% endif %}
          </div>

          <div class="ai-testimonial-customer-{{ section.id }}">
            {% if block.settings.name != blank or block.settings.age != blank %}
              <div class="ai-testimonial-name-{{ section.id }}">
                {% if block.settings.name != blank %}{{ block.settings.name }}{% endif %}{% if block.settings.age != blank %}, {{ block.settings.age }}{% endif %}
              </div>
            {% endif %}
            <div class="ai-testimonial-verified-{{ section.id }}">
              {{ section.settings.verified_label }}
            </div>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>

  {% if section.settings.button_text != blank %}
    <div class="ai-testimonials-cta-{{ section.id }}">
      <a href="{{ section.settings.button_link }}" class="ai-testimonials-button-{{ section.id }}">
        {{ section.settings.button_text }}
      </a>
    </div>
  {% endif %}
</div>

{% style %}
.ai-testimonials-{{ section.id }} {
  padding: 0px 20px;
  max-width: 1200px;
  margin: 0 auto;
  background-color: {{ section.settings.section_background_color }};
}
.ai-testimonials-header-{{ section.id }} {
  margin-bottom: 50px;
  text-align: center;
}
.ai-testimonials-title-{{ section.id }} {
  font-size: {{ section.settings.title_font_size }}px;
  font-weight: bold;
  color: {{ section.settings.title_color }};
  margin: 0 0 20px 0;
  line-height: 1.2;
}
.ai-testimonials-title-{{ section.id }} span {
  color: {{ section.settings.highlight_color }};
}
.ai-testimonials-description-{{ section.id }} {
  font-size: {{ section.settings.description_font_size }}px;
  color: {{ section.settings.description_color }};
  line-height: 1.6;
  max-width: 600px;
  margin: 0 auto;
}
.ai-testimonials-grid-{{ section.id }} {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  margin-bottom: 50px;
}
.ai-testimonial-card-{{ section.id }} {
  background-color: {{ section.settings.card_background_color }};
  border: {{ section.settings.card_border_width }}px solid {{ section.settings.card_border_color }};
  border-radius: {{ section.settings.card_border_radius }}px;
  padding: 15px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  min-height: 200px;
}
.ai-testimonial-quote-{{ section.id }} {
  font-size: {{ section.settings.quote_font_size }}px;
  color: {{ section.settings.quote_color }};
  line-height: 1.5;
  margin-bottom: 20px;
  flex-grow: 1;
  font-style: italic;
}
.ai-testimonial-footer-{{ section.id }} {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  margin-top: auto;
}
.ai-testimonial-icon-{{ section.id }} {
  width: {{ section.settings.icon_size }}px;
  height: {{ section.settings.icon_size }}px;
  flex-shrink: 0;
  margin-top: 2px;
}
.ai-testimonial-icon-{{ section.id }} img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}
.ai-testimonial-icon-placeholder-{{ section.id }} {
  width: 100%;
  height: 100%;
  background-color: {{ section.settings.card_border_color }};
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}
.ai-testimonial-icon-placeholder-{{ section.id }} svg {
  width: 60%;
  height: 60%;
  fill: {{ section.settings.highlight_color }};
}
.ai-testimonial-customer-{{ section.id }} {}
.ai-testimonial-name-{{ section.id }} {
  font-size: {{ section.settings.name_font_size }}px;
  font-weight: bold;
  color: {{ section.settings.name_color }};
  margin: 0 0 4px 0;
  line-height: 1.2;
}
.ai-testimonial-verified-{{ section.id }} {
  font-size: {{ section.settings.verified_font_size }}px;
  color: {{ section.settings.verified_color }};
  margin: 0;
  line-height: 1.2;
}
.ai-testimonials-cta-{{ section.id }} {
  text-align: center;
}
.ai-testimonials-button-{{ section.id }} {
  display: block;
  width: 100%;
  padding: 18px 40px;
  background-color: {{ section.settings.button_background_color }};
  color: {{ section.settings.button_text_color }};
  text-decoration: none;
  font-size: {{ section.settings.button_font_size }}px;
  font-weight: bold;
  border-radius: {{ section.settings.button_border_radius }}px;
  text-align: center;
  transition: background-color 0.3s ease;
  border: none;
  cursor: pointer;
}
.ai-testimonials-button-{{ section.id }}:hover {
  background-color: {{ section.settings.button_hover_color }};
  color:#fff;
}

@media screen and (max-width: 768px) {
  .ai-testimonials-{{ section.id }} {
    padding: 40px 15px;
  }
  .ai-testimonials-grid-{{ section.id }} {
    grid-template-columns: 1fr;
    gap: 20px;
    margin-bottom: 40px;
  }
  .ai-testimonial-card-{{ section.id }} {
    padding: 25px 20px;
    min-height: auto;
  }
  .ai-testimonials-title-{{ section.id }} {
    font-size: {{ section.settings.title_font_size | times: 0.8 }}px;
  }
  .ai-testimonials-button-{{ section.id }} {
    padding: 16px 30px;
  }
}
@media screen and (max-width: 576px) {
  .ai-testimonial-quote-{{ section.id }} {
    font-size:15px;
  }
  .ai-testimonials-description-{{ section.id }} {
    font-size:15px;
  }
  .ai-testimonials-header-{{ section.id }} {
    margin-bottom:10px;
  }
}
{% endstyle %}

{% schema %}
{
  "name": "Customer Testimonials",
  "settings": [
    {
      "type": "richtext",
      "id": "title",
      "label": "Title",
      "default": "<p>What Customers Are <span>Saying</span> After Trying Resilia</p>"
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Title color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "highlight_color",
      "label": "Highlight color",
      "default": "#FF6B35"
    },
    {
      "type": "range",
      "id": "title_font_size",
      "label": "Title font size",
      "min": 20,
      "max": 60,
      "step": 2,
      "unit": "px",
      "default": 36
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description",
      "default": "<p>Real customers sharing their experiences with our product. See what they have to say about the results they've achieved and how it has transformed their daily routine.</p>"
    },
    {
      "type": "color",
      "id": "description_color",
      "label": "Description color",
      "default": "#666666"
    },
    {
      "type": "range",
      "id": "description_font_size",
      "label": "Description font size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "default": 16
    },
    {
      "type": "text",
      "id": "verified_label",
      "label": "Verified label",
      "default": "Verified Customer"
    },
    {
      "type": "color",
      "id": "name_color",
      "label": "Name color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "verified_color",
      "label": "Verified text color",
      "default": "#666666"
    },
    {
      "type": "range",
      "id": "name_font_size",
      "label": "Name font size",
      "min": 12,
      "max": 18,
      "step": 1,
      "unit": "px",
      "default": 14
    },
    {
      "type": "range",
      "id": "verified_font_size",
      "label": "Verified text font size",
      "min": 10,
      "max": 16,
      "step": 1,
      "unit": "px",
      "default": 12
    },
    {
      "type": "range",
      "id": "icon_size",
      "label": "Icon size",
      "min": 16,
      "max": 40,
      "step": 2,
      "unit": "px",
      "default": 24
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button text",
      "default": "TRY RESILIA RISK-FREE"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button link"
    },
    {
      "type": "color",
      "id": "button_background_color",
      "label": "Button background",
      "default": "#FF6B35"
    },
    {
      "type": "color",
      "id": "button_hover_color",
      "label": "Button hover color",
      "default": "#E55A2B"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button text color",
      "default": "#FFFFFF"
    },
    {
      "type": "range",
      "id": "button_font_size",
      "label": "Button font size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "default": 16
    },
    {
      "type": "range",
      "id": "button_border_radius",
      "label": "Button border radius",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "px",
      "default": 8
    },
    {
      "type": "color",
      "id": "section_background_color",
      "label": "Section background",
      "default": "#FFFFFF"
    }
  ],
  "blocks": [
    {
      "type": "testimonial",
      "name": "Testimonial",
      "settings": [
        {"type": "textarea", "id": "quote", "label": "Quote"},
        {"type": "text", "id": "name", "label": "Customer name"},
        {"type": "text", "id": "age", "label": "Customer age"},
        {"type": "image_picker", "id": "icon", "label": "Icon"}
      ]
    }
  ],
  "max_blocks": 10,
  "presets": [
    {
      "name": "Customer Testimonials"
    }
  ]
}
{% endschema %}
