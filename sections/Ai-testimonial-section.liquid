{% comment %}
  Customer Testimonials Section
{% endcomment %}

<div class="ai-testimonials-{{ section.id }}">
  <div class="ai-testimonials-header-{{ section.id }}">
    {% if section.settings.title != blank %}
      <h2 class="ai-testimonials-title-{{ section.id }}">
        {{ section.settings.title }}
      </h2>
    {% endif %}

    {% if section.settings.description != blank %}
      <div class="ai-testimonials-description-{{ section.id }}">
        {{ section.settings.description }}
      </div>
    {% endif %}
  </div>

  <div class="ai-testimonials-grid-{{ section.id }}">
    {% for block in section.blocks %}
      <div class="ai-testimonial-card-{{ section.id }}">
        {% if block.settings.quote != blank %}
          <div class="ai-testimonial-quote-{{ section.id }}">
            {{ block.settings.quote }}
          </div>
        {% endif %}

        <div class="ai-testimonial-footer-{{ section.id }}">
          <div class="ai-testimonial-icon-{{ section.id }}">
            {% if block.settings.icon %}
              <img src="{{ block.settings.icon | image_url: width: 50 }}" alt="Customer verification icon" loading="lazy">
            {% else %}
              <div class="ai-testimonial-icon-placeholder-{{ section.id }}">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M17.5233 3.22427L11.3915 0.596039C10.9521 0.407675 10.479 0.310547 10.0009 0.310547C9.52284 0.310547 9.04974 0.407675 8.61033 0.596039L2.47857 3.22427C2.2668 3.31505 2.08635 3.46601 1.95961 3.65842C1.83287 3.85084 1.76542 4.07623 1.76563 4.30663V10.4855C1.76576 11.609 2.03409 12.7163 2.5483 13.7153C3.06252 14.7142 3.80777 15.576 4.7221 16.229L8.63386 19.0231C9.03293 19.3082 9.51109 19.4614 10.0015 19.4614C10.4919 19.4614 10.9701 19.3082 11.3692 19.0231L15.2797 16.229C16.1939 15.5761 16.9391 14.7145 17.4533 13.7158C17.9675 12.717 18.2359 11.61 18.2362 10.4866V4.30663C18.2362 4.07643 18.1686 3.85129 18.0419 3.65911C17.9152 3.46693 17.7349 3.31615 17.5233 3.22545M14.448 7.79486C14.5445 7.6742 14.6164 7.5357 14.6594 7.38727C14.7025 7.23885 14.7158 7.08339 14.6988 6.92979C14.6818 6.7762 14.6346 6.62746 14.5601 6.49207C14.4856 6.35669 14.3851 6.23731 14.2644 6.14075C14.1438 6.04419 14.0053 5.97234 13.8569 5.9293C13.7084 5.88627 13.553 5.87289 13.3994 5.88993C13.2458 5.90697 13.097 5.9541 12.9617 6.02863C12.8263 6.10315 12.7069 6.20361 12.6103 6.32428L8.72563 11.1807L7.3021 9.75722C7.08021 9.54291 6.78303 9.42433 6.47457 9.42701C6.1661 9.42969 5.87102 9.55342 5.6529 9.77155C5.43477 9.98967 5.31104 10.2847 5.30836 10.5932C5.30568 10.9017 5.42426 11.1989 5.63857 11.4207L7.5268 13.309C7.70225 13.4845 7.91275 13.6211 8.14456 13.7097C8.37637 13.7984 8.62427 13.8372 8.87209 13.8235C9.1199 13.8099 9.36204 13.7441 9.5827 13.6305C9.80337 13.5169 9.99759 13.358 10.1527 13.1643L14.448 7.79486Z" fill="#008700"></path>
                  </svg>
              </div>
            {% endif %}
          </div>

          <div class="ai-testimonial-customer-{{ section.id }}">
            {% if block.settings.name != blank or block.settings.age != blank %}
              <div class="ai-testimonial-name-{{ section.id }}">
                {% if block.settings.name != blank %}{{ block.settings.name }}{% endif %}{% if block.settings.age != blank %}, {{ block.settings.age }}{% endif %}
              </div>
            {% endif %}
            <div class="ai-testimonial-verified-{{ section.id }}">
              {{ section.settings.verified_label }}
            </div>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>

  {% if section.settings.button_text != blank %}
    <div class="ai-testimonials-cta-{{ section.id }}">
      <a href="{{ section.settings.button_link }}" class="ai-testimonials-button-{{ section.id }}">
        {{ section.settings.button_text }}
      </a>
    </div>
  {% endif %}
</div>

{% style %}
.ai-testimonials-{{ section.id }} {
  padding: 0px 20px;
  max-width: 1200px;
  margin: 0 auto;
  background-color: {{ section.settings.section_background_color }};
}
.ai-testimonials-header-{{ section.id }} {
  margin-bottom: 50px;
  text-align: center;
}
.ai-testimonials-title-{{ section.id }} {
  font-size: {{ section.settings.title_font_size }}px;
  font-weight: bold;
  color: {{ section.settings.title_color }};
  margin: 0 0 20px 0;
  line-height: 1.2;
}
.ai-testimonials-title-{{ section.id }} span {
  color: {{ section.settings.highlight_color }};
}
.ai-testimonials-description-{{ section.id }} {
  font-size: {{ section.settings.description_font_size }}px;
  color: {{ section.settings.description_color }};
  line-height: 1.6;
  max-width: 600px;
  margin: 0 auto;
}
.ai-testimonials-grid-{{ section.id }} {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  margin-bottom: 50px;
}
.ai-testimonial-card-{{ section.id }} {
  background-color: {{ section.settings.card_background_color }};
  border: {{ section.settings.card_border_width }}px solid {{ section.settings.card_border_color }};
  border-radius: {{ section.settings.card_border_radius }}px;
  padding: 15px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  min-height: 200px;
}
.ai-testimonial-quote-{{ section.id }} {
  font-size: {{ section.settings.quote_font_size }}px;
  color: {{ section.settings.quote_color }};
  line-height: 1.5;
  margin-bottom: 20px;
  flex-grow: 1;
  font-style: italic;
}
.ai-testimonial-footer-{{ section.id }} {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  margin-top: auto;
}
.ai-testimonial-icon-{{ section.id }} {
  width: {{ section.settings.icon_size }}px;
  height: {{ section.settings.icon_size }}px;
  flex-shrink: 0;
  margin-top: 2px;
}
.ai-testimonial-icon-{{ section.id }} img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}
.ai-testimonial-icon-placeholder-{{ section.id }} {
  width: 100%;
  height: 100%;
  background-color: {{ section.settings.card_border_color }};
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}
.ai-testimonial-icon-placeholder-{{ section.id }} svg {
  width: 60%;
  height: 60%;
  fill: {{ section.settings.highlight_color }};
}
.ai-testimonial-customer-{{ section.id }} {}
.ai-testimonial-name-{{ section.id }} {
  font-size: {{ section.settings.name_font_size }}px;
  font-weight: bold;
  color: {{ section.settings.name_color }};
  margin: 0 0 4px 0;
  line-height: 1.2;
}
.ai-testimonial-verified-{{ section.id }} {
  font-size: {{ section.settings.verified_font_size }}px;
  color: {{ section.settings.verified_color }};
  margin: 0;
  line-height: 1.2;
}
.ai-testimonials-cta-{{ section.id }} {
  text-align: center;
}
.ai-testimonials-button-{{ section.id }} {
  display: block;
  width: 100%;
  padding: 18px 40px;
  background-color: {{ section.settings.button_background_color }};
  color: {{ section.settings.button_text_color }};
  text-decoration: none;
  font-size: {{ section.settings.button_font_size }}px;
  font-weight: bold;
  border-radius: {{ section.settings.button_border_radius }}px;
  text-align: center;
  transition: background-color 0.3s ease;
  border: none;
  cursor: pointer;
}
.ai-testimonials-button-{{ section.id }}:hover {
  background-color: {{ section.settings.button_hover_color }};
  color:#fff;
}

@media screen and (max-width: 768px) {
  .ai-testimonials-{{ section.id }} {
    padding: 40px 15px;
  }
  .ai-testimonials-grid-{{ section.id }} {
    grid-template-columns: 1fr;
    gap: 20px;
    margin-bottom: 40px;
  }
  .ai-testimonial-card-{{ section.id }} {
    padding: 25px 20px;
    min-height: auto;
  }
  .ai-testimonials-title-{{ section.id }} {
    font-size: {{ section.settings.title_font_size | times: 0.8 }}px;
  }
  .ai-testimonials-button-{{ section.id }} {
    padding: 16px 30px;
  }
}
@media screen and (max-width: 576px) {
  .ai-testimonial-quote-{{ section.id }} {
    font-size:15px;
  }
  .ai-testimonials-description-{{ section.id }} {
    font-size:15px;
  }
  .ai-testimonials-header-{{ section.id }} {
    margin-bottom:10px;
  }
}
{% endstyle %}

{% schema %}
{
  "name": "Customer Testimonials",
  "settings": [
    {
      "type": "richtext",
      "id": "title",
      "label": "Title",
      "default": "<p>What Customers Are <span>Saying</span> After Trying Resilia</p>"
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Title color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "highlight_color",
      "label": "Highlight color",
      "default": "#FF6B35"
    },
    {
      "type": "range",
      "id": "title_font_size",
      "label": "Title font size",
      "min": 20,
      "max": 60,
      "step": 2,
      "unit": "px",
      "default": 36
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description",
      "default": "<p>Real customers sharing their experiences with our product. See what they have to say about the results they've achieved and how it has transformed their daily routine.</p>"
    },
    {
      "type": "color",
      "id": "description_color",
      "label": "Description color",
      "default": "#666666"
    },
    {
      "type": "range",
      "id": "description_font_size",
      "label": "Description font size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "default": 16
    },
    {
      "type": "text",
      "id": "verified_label",
      "label": "Verified label",
      "default": "Verified Customer"
    },
    {
      "type": "color",
      "id": "name_color",
      "label": "Name color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "verified_color",
      "label": "Verified text color",
      "default": "#666666"
    },
    {
      "type": "range",
      "id": "name_font_size",
      "label": "Name font size",
      "min": 12,
      "max": 18,
      "step": 1,
      "unit": "px",
      "default": 14
    },
    {
      "type": "range",
      "id": "verified_font_size",
      "label": "Verified text font size",
      "min": 10,
      "max": 16,
      "step": 1,
      "unit": "px",
      "default": 12
    },
    {
      "type": "range",
      "id": "icon_size",
      "label": "Icon size",
      "min": 16,
      "max": 40,
      "step": 2,
      "unit": "px",
      "default": 24
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button text",
      "default": "TRY RESILIA RISK-FREE"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button link"
    },
    {
      "type": "color",
      "id": "button_background_color",
      "label": "Button background",
      "default": "#FF6B35"
    },
    {
      "type": "color",
      "id": "button_hover_color",
      "label": "Button hover color",
      "default": "#E55A2B"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button text color",
      "default": "#FFFFFF"
    },
    {
      "type": "range",
      "id": "button_font_size",
      "label": "Button font size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "default": 16
    },
    {
      "type": "range",
      "id": "button_border_radius",
      "label": "Button border radius",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "px",
      "default": 8
    },
    {
      "type": "color",
      "id": "section_background_color",
      "label": "Section background",
      "default": "#FFFFFF"
    }
  ],
  "blocks": [
    {
      "type": "testimonial",
      "name": "Testimonial",
      "settings": [
        {"type": "textarea", "id": "quote", "label": "Quote"},
        {"type": "text", "id": "name", "label": "Customer name"},
        {"type": "text", "id": "age", "label": "Customer age"},
        {"type": "image_picker", "id": "icon", "label": "Icon"}
      ]
    }
  ],
  "max_blocks": 10,
  "presets": [
    {
      "name": "Customer Testimonials"
    }
  ]
}
{% endschema %}
