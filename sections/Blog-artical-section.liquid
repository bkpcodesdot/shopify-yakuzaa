{% assign ai_gen_id = section.id | replace: '_', '' | downcase %}

<div id="ai-before-after-article-{{ ai_gen_id }}" class="ai-before-after-article" style="position: relative;">
  
  {%- if section.settings.show_reading_time and section.settings.reading_time != blank -%}
    <div id="scroll-trigger" class="ai-before-after-article__reading-time-{{ ai_gen_id }}" style="cursor:pointer;">
      <svg width="20" height="20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
        <circle cx="10" cy="10" r="9" stroke="currentColor" stroke-width="2" fill="none"></circle>
        <path d="M10 5v5l3 2" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
      </svg>
      <span>Estimated <b>{{ section.settings.reading_time }}</b></span>
    </div>
  {%- endif -%}

  {%- if section.settings.title != blank -%}
    <h2>{{ section.settings.title }}</h2>
  {%- endif -%}

  {%- if section.settings.content != blank -%}
    <div class="ai-before-after-article__content">
      {{ section.settings.content }}
    </div>
  {%- endif -%}

  {%- if section.settings.before_image != blank -%}
    <div class="ai-before-after-article__images">
      <div class="before">
        <img src="{{ section.settings.before_image | img_url: '800x' }}" alt="Before">
      </div>
    </div>
  {%- endif -%}

</div>

<!-- Target section -->
<div id="ai-health-campaign">
  <!-- Put your campaign content here -->
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const button = document.getElementById("scroll-trigger");
    const target = document.getElementById("ai-health-campaign");

    if (button && target) {
      button.addEventListener("click", function (e) {
        e.preventDefault();
        target.scrollIntoView({ behavior: "smooth" });
      });
    }
  });
</script>

{% schema %}
{
  "name": "AI Before After Article",
  "settings": [
    {
      "type": "checkbox",
      "id": "show_reading_time",
      "label": "Show reading time",
      "default": true
    },
    {
      "type": "text",
      "id": "reading_time",
      "label": "Reading time",
      "default": "5 min read"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Heading",
      "default": "Your Article Title"
    },
    {
      "type": "richtext",
      "id": "content",
      "label": "Content",
      "default": "<p>Write your article content here...</p>"
    },
    {
      "type": "image_picker",
      "id": "before_image",
      "label": "Before Image"
    }
  ],
  "presets": [
    {
      "name": "AI Before After Article"
    }
  ]
}
{% endschema %}
