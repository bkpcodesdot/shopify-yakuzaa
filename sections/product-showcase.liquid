{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
.ai-product-showcase-{{ ai_gen_id }} {
  max-width: 726px;
  margin: 0 auto;
  padding: 40px 20px;
  color: {{ block.settings.text_color }};
  font-family: {{ block.settings.body_font.family }}, {{ block.settings.body_font.fallback_families }};
  font-weight: {{ block.settings.body_font.weight }};
}
.ai-product-showcase__title-{{ ai_gen_id }} {
  margin-bottom: {{ block.settings.heading_margin_bottom }}px;
  font-size: {{ block.settings.heading_size }}px;
  font-weight: bold;
  color: {{ block.settings.heading_color }};
  font-family: {{ block.settings.heading_font.family }}, {{ block.settings.heading_font.fallback_families }};
}
.ai-product-showcase__title-{{ ai_gen_id }} .highlight {
  color: {{ block.settings.highlight_color }};
}
.ai-product-showcase__intro-{{ ai_gen_id }} {
  margin-bottom: 40px;
  font-size: {{ block.settings.text_size }}px;
  line-height: 1.6;
  max-width: 800px;
  margin-left: auto;
  margin-right: auto;
}
.ai-product-showcase__main-image-{{ ai_gen_id }} {
  text-align: center;
  margin-bottom: 40px;
}
.ai-product-showcase__main-image-{{ ai_gen_id }} img {
  max-width: 100%;
  height: auto;
  border-radius: {{ block.settings.image_border_radius }}px;
}
.ai-product-showcase__features-{{ ai_gen_id }} {
  margin-bottom: 40px;
}
.ai-product-showcase__feature-{{ ai_gen_id }} {
  display: flex;
  align-items: flex-start;
  margin-bottom: 20px;
  gap: 15px;
}
.ai-product-showcase__feature-icon-{{ ai_gen_id }} {
  width: {{ block.settings.icon_size }}px;
  height: {{ block.settings.icon_size }}px;
  flex-shrink: 0;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}
.ai-product-showcase__feature-icon-{{ ai_gen_id }} img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 50%;
}
.ai-product-showcase__feature-content-{{ ai_gen_id }} {
  flex: 1;
}
.ai-product-showcase__feature-title-{{ ai_gen_id }} {
  margin-bottom: 5px;
  font-size: {{ block.settings.feature_title_size }}px;
  color: {{ block.settings.feature_title_color }};
}
.ai-product-showcase__feature-description-{{ ai_gen_id }} {
  font-size: {{ block.settings.feature_text_size }}px;
  color: {{ block.settings.feature_text_color }};
  line-height: 1.4;
}
.ai-product-showcase__secondary-image-{{ ai_gen_id }} {
  text-align: center;
  margin-bottom: 30px;
}
.ai-product-showcase__secondary-image-{{ ai_gen_id }} img {
  max-width: 100%;
  height: auto;
  border-radius: {{ block.settings.image_border_radius }}px;
}
.ai-product-showcase__supporting-text-{{ ai_gen_id }} {
  margin-bottom: 40px;
  font-size: {{ block.settings.text_size }}px;
  line-height: 1.6;
  max-width: 600px;
}
.ai-product-showcase__subheading-{{ ai_gen_id }} {
  font-weight: bold;
  margin-bottom: 30px;
  font-size: {{ block.settings.subheading_size }}px;
  color: {{ block.settings.subheading_color }};
  text-align: left;
}
.ai-product-showcase__columns-{{ ai_gen_id }} {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 15px;
  margin-bottom: 40px;
}
.ai-product-showcase__column-{{ ai_gen_id }} {
  background-color: {{ block.settings.column_bg_color }};
  border-radius: {{ block.settings.column_border_radius }}px;
  padding: 15px;
  border:1px solid #016401;
}
.ai-product-showcase__column-image-{{ ai_gen_id }} img {
  max-width: 100%;
  height: auto;
  border-radius: {{ block.settings.column_image_border_radius }}px;
}
.ai-product-showcase__column-title-{{ ai_gen_id }} {
  font-weight: bold;
  margin-bottom: 15px;
  font-size: {{ block.settings.column_title_size }}px;
  color: {{ block.settings.column_title_color }};
}
.ai-product-showcase__column-content-{{ ai_gen_id }} {
  font-size: {{ block.settings.column_text_size }}px;
  color: {{ block.settings.column_text_color }};
  line-height: 1.5;
}
.ai-product-showcase__cta-button-{{ ai_gen_id }} {
  display:block;
  background-color: {{ block.settings.button_bg_color }};
  color: {{ block.settings.button_text_color }};
  padding: 15px 40px;
  border-radius: {{ block.settings.button_border_radius }}px;
  text-decoration: none;
  font-weight: bold;
  font-size: {{ block.settings.button_text_size }}px;
  transition: background-color 0.3s ease;
  width: 100%;
  text-align: center;
}
.ai-product-showcase__cta-button-{{ ai_gen_id }}:hover {
  background-color: {{ block.settings.button_hover_bg_color }};
  color:white;
  border:2px solid #EE882F;
}
@media screen and (max-width: 768px) {
  .ai-product-showcase__columns-{{ ai_gen_id }} {
    grid-template-columns: 1fr;
    gap: 20px;
  }
}
{% endstyle %}

<div class="ai-product-showcase-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <!-- Main Heading -->
  <h2 class="adv-content__heading weight-bold ai-product-showcase__title-{{ ai_gen_id }}" style="margin-bottom: {{ block.settings.heading_margin_bottom }}px;">
    {{ block.settings.heading_text | default: "The Natural, Science-Backed" }} <span class="highlight">{{ block.settings.highlight_text | default: "Solution" }}</span>
  </h2>

  {% if block.settings.intro_text != blank %}
    <div class="ai-product-showcase__intro-{{ ai_gen_id }}">
      {{ block.settings.intro_text }}
    </div>
  {% endif %}

  <!-- Main Image -->
  <div class="ai-product-showcase__main-image-{{ ai_gen_id }}">
    {% if block.settings.main_image %}
      <img src="{{ block.settings.main_image | image_url: width: 800 }}" alt="{{ block.settings.main_image.alt | escape }}">
    {% endif %}
  </div>

  <!-- Feature Points -->
  {% if block.settings.show_features %}
    <div class="ai-product-showcase__features-{{ ai_gen_id }}">
      {% for i in (1..5) %}
        {% assign feature_enabled_key = 'feature_' | append: i | append: '_enabled' %}
        {% assign feature_icon_key = 'feature_' | append: i | append: '_icon' %}
        {% assign feature_title_key = 'feature_' | append: i | append: '_title' %}
        {% assign feature_description_key = 'feature_' | append: i | append: '_description' %}
        {% if block.settings[feature_enabled_key] %}
          <div class="ai-product-showcase__feature-{{ ai_gen_id }}">
            <div class="ai-product-showcase__feature-icon-{{ ai_gen_id }}">
              {% if block.settings[feature_icon_key] %}
                <img src="{{ block.settings[feature_icon_key] | image_url: width: 100 }}">
              {% endif %}
            </div>
            <div class="ai-product-showcase__feature-content-{{ ai_gen_id }}">
              <div class="ai-product-showcase__feature-title-{{ ai_gen_id }}">
                {{ block.settings[feature_title_key] }}
              </div>
              <div class="ai-product-showcase__feature-description-{{ ai_gen_id }}">
                {{ block.settings[feature_description_key] }}
              </div>
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>
  {% endif %}

  <!-- Secondary Image -->
  <div class="ai-product-showcase__secondary-image-{{ ai_gen_id }}">
    {% if block.settings.secondary_image %}
      <img src="{{ block.settings.secondary_image | image_url: width: 600 }}" alt="{{ block.settings.secondary_image.alt | escape }}">
    {% endif %}
  </div>

  <!-- Supporting Text -->
  {% if block.settings.supporting_text != blank %}
    <div class="ai-product-showcase__supporting-text-{{ ai_gen_id }}">
      {{ block.settings.supporting_text }}
    </div>
  {% endif %}

  <!-- Subheading -->
  {% if block.settings.subheading != blank %}
    <h3 class="ai-product-showcase__subheading-{{ ai_gen_id }}">
      {{ block.settings.subheading }}
    </h3>
  {% endif %}

  <!-- Two Columns -->
  <div class="ai-product-showcase__columns-{{ ai_gen_id }}">
    {% for i in (1..2) %}
      {% assign column_image_key = 'column_' | append: i | append: '_image' %}
      {% assign column_title_key = 'column_' | append: i | append: '_title' %}
      {% assign column_content_key = 'column_' | append: i | append: '_content' %}
      <div class="ai-product-showcase__column-{{ ai_gen_id }}">
        {% if block.settings[column_image_key] %}
          <img src="{{ block.settings[column_image_key] | image_url: width: 400 }}" alt="{{ block.settings[column_title_key] | escape }}">
        {% endif %}
        <h4 class="ai-product-showcase__column-title-{{ ai_gen_id }}">
          {{ block.settings[column_title_key] }}
        </h4>
        <div class="ai-product-showcase__column-content-{{ ai_gen_id }}">
          {{ block.settings[column_content_key] }}
        </div>
      </div>
    {% endfor %}
  </div>

  <!-- CTA Button -->
  {% if block.settings.cta_text != blank %}
    <div class="ai-product-showcase__cta-{{ ai_gen_id }}">
      <a href="{{ block.settings.cta_link | default: '#' }}" class="ai-product-showcase__cta-button-{{ ai_gen_id }}">
        {{ block.settings.cta_text }}
      </a>
    </div>
  {% endif %}
</div>

{% schema %}
{
  "name": "Product Showcase",
  "settings": [
    {
      "type": "text",
      "id": "heading_text",
      "label": "Heading text",
      "default": "The Natural, Science-Backed"
    },
    {
      "type": "text",
      "id": "highlight_text",
      "label": "Highlight text (orange)",
      "default": "Solution"
    },
    {
      "type": "richtext",
      "id": "intro_text",
      "label": "Introduction text",
      "default": "<p>Discover our revolutionary approach...</p>"
    },
    {
      "type": "image_picker",
      "id": "main_image",
      "label": "Main product image"
    },
    {
      "type": "checkbox",
      "id": "show_features",
      "label": "Show feature points",
      "default": true
    },
    {
      "type": "image_picker",
      "id": "feature_1_icon",
      "label": "Feature 1 icon"
    },
    {
      "type": "text",
      "id": "feature_1_title",
      "label": "Feature 1 title",
      "default": "Clinically Proven"
    },
    {
      "type": "text",
      "id": "feature_1_description",
      "label": "Feature 1 description",
      "default": "Backed by extensive clinical research"
    },
    {
      "type": "image_picker",
      "id": "secondary_image",
      "label": "Secondary image"
    },
    {
      "type": "richtext",
      "id": "supporting_text",
      "label": "Supporting text"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading",
      "default": "How it works:"
    },
    {
      "type": "text",
      "id": "column_1_title",
      "label": "Column 1 title",
      "default": "Step 1: Take Daily"
    },
    {
      "type": "richtext",
      "id": "column_1_content",
      "label": "Column 1 content"
    },
    {
      "type": "text",
      "id": "column_2_title",
      "label": "Column 2 title",
      "default": "Step 2: See Results"
    },
    {
      "type": "richtext",
      "id": "column_2_content",
      "label": "Column 2 content"
    },
    {
      "type": "text",
      "id": "cta_text",
      "label": "Button text",
      "default": "TRY RESILIA RISK-FREE"
    },
    {
      "type": "url",
      "id": "cta_link",
      "label": "Button link"
    }
  ],
  "presets": [
    {
      "name": "Product Showcase",
      "category": "Custom"
    }
  ]
}

{% endschema %}
