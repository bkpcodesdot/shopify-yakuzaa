<div class="product-showcase">
  <h2 style="color: {{ section.settings.heading_color }}; font-size: {{ section.settings.heading_size }}px;">
    {{ section.settings.heading_text }}
    <span style="color: {{ section.settings.highlight_color }}; font-size: {{ section.settings.highlight_size }}px;">
      {{ section.settings.highlight_word }}
    </span>
  </h2>

  <div class="intro-text" style="color: {{ section.settings.intro_color }}; font-size: {{ section.settings.intro_size }}px;">
    {{ section.settings.intro_text }}
  </div>

  {% if section.settings.main_image != blank %}
    <img src="{{ section.settings.main_image | img_url: 'large' }}" alt="Main Product" />
  {% endif %}

  {% if section.settings.show_features %}
    <div class="features">
      {% for block in section.blocks %}
        {% if block.type == 'feature' %}
          <div class="feature-point">
            {% if block.settings.icon != blank %}
              <img src="{{ block.settings.icon | img_url: '50x50' }}" alt="Feature Icon" />
            {% endif %}
            <p style="color: {{ section.settings.feature_color }}; font-size: {{ section.settings.feature_size }}px;">
              {{ block.settings.title }}
            </p>
          </div>
        {% endif %}
      {% endfor %}
    </div>
  {% endif %}

  {% if section.settings.secondary_image != blank %}
    <img src="{{ section.settings.secondary_image | img_url: 'large' }}" alt="Secondary Product" />
  {% endif %}

  <h3 style="color: {{ section.settings.subheading_color }}; font-size: {{ section.settings.subheading_size }}px;">
    {{ section.settings.subheading }}
  </h3>

  <div class="columns">
    {% for col in (1..2) %}
  {% assign image_key = "column_" | append: col | append: "_image" %}
  {% assign title_key = "column_" | append: col | append: "_title" %}
  {% assign content_key = "column_" | append: col | append: "_content" %}

  {% assign image = section.settings[image_key] %}
  {% assign title = section.settings[title_key] %}
  {% assign content = section.settings[content_key] %}
  {% assign row_modulo = forloop.index0 | modulo: 2 %}

  <div class="column{% if section.settings.enable_alternating_rows and row_modulo == 1 %} alt{% endif %}">
    {% if image != blank %}
      <img src="{{ image | img_url: 'medium' }}" alt="Column {{ col }} Image" />
    {% endif %}
    <h4 style="color: {{ section.settings.column_title_color }}; font-size: {{ section.settings.column_title_size }}px;">
      {{ title }}
    </h4>
    <div class="column-content" style="color: {{ section.settings.column_content_color }}; font-size: {{ section.settings.column_content_size }}px;">
      {{ content }}
    </div>
  </div>
{% endfor %}

  </div>

  {% if section.settings.cta_text != blank %}
    <a href="{{ section.settings.cta_link }}" class="cta-btn"
       style="background-color: {{ section.settings.cta_bg }}; color: {{ section.settings.cta_color }}; font-size: {{ section.settings.cta_size }}px;">
      {{ section.settings.cta_text }}
    </a>
  {% endif %}
</div>

{% schema %}
{
  "name": "Product compare",
  "settings": [
    { "type": "text", "id": "heading_text", "label": "Main heading", "default": "The Natural, Science-Backed" },
    { "type": "color", "id": "heading_color", "label": "Heading color", "default": "#000000" },
    { "type": "range", "id": "heading_size", "min": 12, "max": 72, "step": 1, "unit": "px", "label": "Heading font size", "default": 32 },

    { "type": "text", "id": "highlight_word", "label": "Highlight word", "default": "Solution" },
    { "type": "color", "id": "highlight_color", "label": "Highlight color", "default": "#ff0000" },
    { "type": "range", "id": "highlight_size", "min": 12, "max": 72, "step": 1, "unit": "px", "label": "Highlight font size", "default": 32 },

    { "type": "richtext", "id": "intro_text", "label": "Introduction text", "default": "<p>Discover our revolutionary approach to wellness...</p>" },
    { "type": "color", "id": "intro_color", "label": "Intro text color", "default": "#333333" },
    { "type": "range", "id": "intro_size", "min": 12, "max": 36, "step": 1, "unit": "px", "label": "Intro font size", "default": 16 },

    { "type": "image_picker", "id": "main_image", "label": "Main product image" },
    { "type": "checkbox", "id": "show_features", "label": "Show feature points", "default": true },
    { "type": "color", "id": "feature_color", "label": "Feature text color", "default": "#000000" },
    { "type": "range", "id": "feature_size", "min": 10, "max": 30, "step": 1, "unit": "px", "label": "Feature font size", "default": 14 },

    { "type": "image_picker", "id": "secondary_image", "label": "Secondary image" },
    { "type": "text", "id": "subheading", "label": "Subheading", "default": "Compare our solutions" },
    { "type": "color", "id": "subheading_color", "label": "Subheading color", "default": "#000000" },
    { "type": "range", "id": "subheading_size", "min": 12, "max": 48, "step": 1, "unit": "px", "label": "Subheading font size", "default": 20 },

    { "type": "image_picker", "id": "column_1_image", "label": "Column 1 image" },
    { "type": "text", "id": "column_1_title", "label": "Column 1 title", "default": "Column 1" },
    { "type": "richtext", "id": "column_1_content", "label": "Column 1 content", "default": "<p>Details for column 1.</p>" },

    { "type": "image_picker", "id": "column_2_image", "label": "Column 2 image" },
    { "type": "text", "id": "column_2_title", "label": "Column 2 title", "default": "Column 2" },
    { "type": "richtext", "id": "column_2_content", "label": "Column 2 content", "default": "<p>Details for column 2.</p>" },

    { "type": "color", "id": "column_title_color", "label": "Column title color", "default": "#000000" },
    { "type": "range", "id": "column_title_size", "min": 12, "max": 36, "step": 1, "unit": "px", "label": "Column title font size", "default": 18 },
    { "type": "color", "id": "column_content_color", "label": "Column content color", "default": "#333333" },
    { "type": "range", "id": "column_content_size", "min": 10, "max": 24, "step": 1, "unit": "px", "label": "Column content font size", "default": 14 },

    { "type": "checkbox", "id": "enable_alternating_rows", "label": "Enable alternating column styles", "default": false },

    { "type": "text", "id": "cta_text", "label": "Button text", "default": "Shop Now" },
    { "type": "url", "id": "cta_link", "label": "Button link" },
    { "type": "color", "id": "cta_bg", "label": "Button background color", "default": "#000000" },
    { "type": "color", "id": "cta_color", "label": "Button text color", "default": "#ffffff" },
    { "type": "range", "id": "cta_size", "min": 12, "max": 36, "step": 1, "unit": "px", "label": "Button font size", "default": 16 }
  ],
  "blocks": [
    {
      "type": "feature",
      "name": "Feature Point",
      "settings": [
        { "type": "image_picker", "id": "icon", "label": "Feature icon" },
        { "type": "text", "id": "title", "label": "Feature title", "default": "New Feature" }
      ]
    }
  ],
  "max_blocks": 10,
  "presets": [
    { "name": "Product compare" }
  ]
}
{% endschema %}
