<section class="ai-testimonials-{{ section.id }}">
  {% for block in section.blocks %}
    {% case block.type %}
      {% when 'title' %}
        {% if block.settings.title != blank %}
          <h2 class="ai-testimonials-title-{{ section.id }}">
            {{ block.settings.title }}
          </h2>
        {% endif %}

      {% when 'description' %}
        {% if block.settings.description != blank %}
          <div class="ai-testimonials-description-{{ section.id }}">
            {{ block.settings.description }}
          </div>
        {% endif %}

      {% when 'testimonial' %}
        <div class="ai-testimonial-card-{{ section.id }}">
          {% if block.settings.quote != blank %}
            <div class="ai-testimonial-quote-{{ section.id }}">
              {{ block.settings.quote }}
            </div>
          {% endif %}

          <div class="ai-testimonial-footer-{{ section.id }}">
            <div class="ai-testimonial-icon-{{ section.id }}">
              {% if block.settings.icon %}
                <img src="{{ block.settings.icon | image_url: width: 50 }}" alt="Customer verification icon" loading="lazy">
              {% else %}
                <div class="ai-testimonial-icon-placeholder-{{ section.id }}"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 20 20" fill="none">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M17.5233 3.22427L11.3915 0.596039C10.9521 0.407675 10.479 0.310547 10.0009 0.310547C9.52284 0.310547 9.04974 0.407675 8.61033 0.596039L2.47857 3.22427C2.2668 3.31505 2.08635 3.46601 1.95961 3.65842C1.83287 3.85084 1.76542 4.07623 1.76563 4.30663V10.4855C1.76576 11.609 2.03409 12.7163 2.5483 13.7153C3.06252 14.7142 3.80777 15.576 4.7221 16.229L8.63386 19.0231C9.03293 19.3082 9.51109 19.4614 10.0015 19.4614C10.4919 19.4614 10.9701 19.3082 11.3692 19.0231L15.2797 16.229C16.1939 15.5761 16.9391 14.7145 17.4533 13.7158C17.9675 12.717 18.2359 11.61 18.2362 10.4866V4.30663C18.2362 4.07643 18.1686 3.85129 18.0419 3.65911C17.9152 3.46693 17.7349 3.31615 17.5233 3.22545M14.448 7.79486C14.5445 7.6742 14.6164 7.5357 14.6594 7.38727C14.7025 7.23885 14.7158 7.08339 14.6988 6.92979C14.6818 6.7762 14.6346 6.62746 14.5601 6.49207C14.4856 6.35669 14.3851 6.23731 14.2644 6.14075C14.1438 6.04419 14.0053 5.97234 13.8569 5.9293C13.7084 5.88627 13.553 5.87289 13.3994 5.88993C13.2458 5.90697 13.097 5.9541 12.9617 6.02863C12.8263 6.10315 12.7069 6.20361 12.6103 6.32428L8.72563 11.1807L7.3021 9.75722C7.08021 9.54291 6.78303 9.42433 6.47457 9.42701C6.1661 9.42969 5.87102 9.55342 5.6529 9.77155C5.43477 9.98967 5.31104 10.2847 5.30836 10.5932C5.30568 10.9017 5.42426 11.1989 5.63857 11.4207L7.5268 13.309C7.70225 13.4845 7.91275 13.6211 8.14456 13.7097C8.37637 13.7984 8.62427 13.8372 8.87209 13.8235C9.1199 13.8099 9.36204 13.7441 9.5827 13.6305C9.80337 13.5169 9.99759 13.358 10.1527 13.1643L14.448 7.79486Z" fill="#008700"></path>
                  </svg></div>
              {% endif %}
            </div>

            <div class="ai-testimonial-customer-{{ section.id }}">
              {% if block.settings.name or block.settings.age %}
                <div class="ai-testimonial-name-{{ section.id }}">
                  {{ block.settings.name }}{% if block.settings.age != blank %}, {{ block.settings.age }}{% endif %}
                </div>
              {% endif %}
              <div class="ai-testimonial-verified-{{ section.id }}">
                {{ block.settings.verified_label }}
              </div>
            </div>
          </div>
        </div>

      {% when 'cta' %}
        {% if block.settings.button_text != blank %}
          <div class="ai-testimonials-cta-{{ section.id }}">
            <a href="{{ block.settings.button_link }}" class="ai-testimonials-button-{{ section.id }}">
              {{ block.settings.button_text }}
            </a>
          </div>
        {% endif %}
    {% endcase %}
  {% endfor %}
</section>
